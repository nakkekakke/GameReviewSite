{% extends 'layout.html' %}

{% block body %}
<div>
  <h1>{{ game.name }}</h1>
  <i>A game by {{ game.developer }}</i>
  <p>Released in {{ game.year }}</p>
  <p>Genre: {{ game.genre }}</p>

  <h3>Update info</h3>
  <form method="POST" action="{{ url_for('game_update', id=game.id) }}">
    <table>
      <tr>
        <td>
          {{ form.name.label }}
        </td>
        <td>
          {{ form.name(value = game.name) }}
        </td>
        <td>
          <ul>
            {% for error in form.name.errors %}
            <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td>
          {{ form.developer.label }}
        </td>
        <td>
          {{ form.developer(value = game.developer) }}
        </td>
        <td>
          <ul>
            {% for error in form.developer.errors %}
            <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td>
          {{ form.year.label }}
        </td>
        <td>
          {{ form.year(value = game.year) }}
        </td>
        <td>
          <ul>
            {% for error in form.year.errors %}
            <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td>
          {{ form.genre.label }}
        </td>
        <td>
          {{ form.genre(value = game.genre) }}
        </td>
        <td>
          <ul>
            {% for error in form.genre.errors %}
            <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </td>
      </tr>
      <tr>
        <td>
          <button type="submit">Update</button>
        </td>
      </tr>
    </table>
  </form>
  <br>
  <h3>Delete game</h3>
  <form method="POST" action="{{ url_for('game_delete', id=game.id) }}">
    <button type="submit">Delete</button>
    <p>Deletion is permanent! Use with caution</p>
  </form>
  </div>
{% endblock %}